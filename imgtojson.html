<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title> exoCanvas3-1 </title>
    <link rel="stylesheet" type="text/css" href="inc/exoCanvas1-1.css" />
</head>
<body>
    <canvas id="zoneDessin1" width="49px" height="120px"></canvas>
    <script>
        var ctx1 = document.getElementById("zoneDessin1").getContext("2d");
        m = 0
        var imgFleur = new Image();
        imgFleur.src = "./DirtyBiology2.png";

        imgFleur.onload = function () {

            ctx1.width = imgFleur.width
            ctx1.height = imgFleur.height
            ctx1.drawImage(imgFleur, 0, 0);
            console.log(ctx1.getImageData(0, 0, 49, 120).data)
            tab = []
            for (let i = 0; i < 120; i++) {
                tab[i] = []
            }
            a = -1
            for (let i = 0; i < ctx1.getImageData(0, 0, 49, 120).data.length; i += 4) {

                if (i % 196 == 0)
                    a += 1
                tab[a].push(("#" +
                    (ctx1.getImageData(0, 0, 49, 120).data[i].toString(16).length==2?ctx1.getImageData(0, 0, 49, 120).data[i].toString(16):("0"+ctx1.getImageData(0, 0, 49, 120).data[i].toString(16))) +
                    (ctx1.getImageData(0, 0, 49, 120).data[i + 1].toString(16).length==2?ctx1.getImageData(0, 0, 49, 120).data[i+1].toString(16):("0"+ctx1.getImageData(0, 0, 49, 120).data[i+1].toString(16)))
                    + (ctx1.getImageData(0, 0, 49, 120).data[i + 2].toString(16).length==2?ctx1.getImageData(0, 0, 49, 120).data[i+2].toString(16):("0"+ctx1.getImageData(0, 0, 49, 120).data[i+2].toString(16)))
                    ).toUpperCase())
            }
            console.log(JSON.stringify(tab))




        };

    </script>
</body>

</html>